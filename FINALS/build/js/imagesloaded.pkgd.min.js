!function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||{};return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=0,o=i[n];e=e||[];for(var r=this._onceEvents&&this._onceEvents[t];o;){var s=r&&r[o];s&&(this.off(t,o),delete r[o]),o.apply(this,e),n+=s?0:1,o=i[n]}return this}},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter")):t.imagesLoaded=e(t,t.EvEmitter)}(window,function(t,e){function i(t,e){for(var i in e)t[i]=e[i];return t}function n(t){var e=[];if(Array.isArray(t))e=t;else if("number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e}function o(t,e,r){return this instanceof o?("string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=n(t),this.options=i({},this.options),"function"==typeof e?r=e:i(this.options,e),r&&this.on("always",r),this.getImages(),h&&(this.jqDeferred=new h.Deferred),void setTimeout(function(){this.check()}.bind(this))):new o(t,e,r)}function r(t){this.img=t}function s(t,e){this.url=t,this.element=e,this.img=new Image}var h=t.jQuery,a=t.console;o.prototype=Object.create(e.prototype),o.prototype.options={},o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},o.prototype.addElementImages=function(t){"IMG"==t.nodeName&&this.addImage(t),this.options.background===!0&&this.addElementBackgroundImages(t);var e=t.nodeType;if(e&&d[e]){for(var i=t.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background){var r=t.querySelectorAll(this.options.background);for(n=0;n<r.length;n++){var s=r[n];this.addElementBackgroundImages(s)}}}};var d={1:!0,9:!0,11:!0};return o.prototype.addElementBackgroundImages=function(t){var e=getComputedStyle(t);if(e)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(e.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,t),n=i.exec(e.backgroundImage)}},o.prototype.addImage=function(t){var e=new r(t);this.images.push(e)},o.prototype.addBackground=function(t,e){var i=new s(t,e);this.images.push(i)},o.prototype.check=function(){function t(t,i,n){setTimeout(function(){e.progress(t,i,n)})}var e=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(e){e.once("progress",t),e.check()}):void this.complete()},o.prototype.progress=function(t,e,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded,this.emitEvent("progress",[this,t,e]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,t),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+i,t,e)},o.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(t,[this]),this.emitEvent("always",[this]),this.jqDeferred){var e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},r.prototype=Object.create(e.prototype),r.prototype.check=function(){var t=this.getIsImageComplete();return t?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},r.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},r.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.img,e])},r.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},r.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},r.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},r.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype=Object.create(r.prototype),s.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url;var t=this.getIsImageComplete();t&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},s.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype.confirm=function(t,e){this.isLoaded=t,this.emitEvent("progress",[this,this.element,e])},o.makeJQueryPlugin=function(e){e=e||t.jQuery,e&&(h=e,h.fn.imagesLoaded=function(t,e){var i=new o(this,t,e);return i.jqDeferred.promise(h(this))})},o.makeJQueryPlugin(),o});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImltYWdlc2xvYWRlZC5wa2dkLm1pbi5qcyJdLCJuYW1lcyI6WyJ0IiwiZSIsImRlZmluZSIsImFtZCIsIm1vZHVsZSIsImV4cG9ydHMiLCJFdkVtaXR0ZXIiLCJ3aW5kb3ciLCJ0aGlzIiwicHJvdG90eXBlIiwib24iLCJpIiwiX2V2ZW50cyIsIm4iLCJpbmRleE9mIiwicHVzaCIsIm9uY2UiLCJfb25jZUV2ZW50cyIsIm9mZiIsImxlbmd0aCIsInNwbGljZSIsImVtaXRFdmVudCIsIm8iLCJyIiwicyIsImFwcGx5IiwicmVxdWlyZSIsImltYWdlc0xvYWRlZCIsIkFycmF5IiwiaXNBcnJheSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImVsZW1lbnRzIiwib3B0aW9ucyIsImdldEltYWdlcyIsImgiLCJqcURlZmVycmVkIiwiRGVmZXJyZWQiLCJzZXRUaW1lb3V0IiwiY2hlY2siLCJiaW5kIiwiaW1nIiwidXJsIiwiZWxlbWVudCIsIkltYWdlIiwialF1ZXJ5IiwiYSIsImNvbnNvbGUiLCJPYmplY3QiLCJjcmVhdGUiLCJpbWFnZXMiLCJmb3JFYWNoIiwiYWRkRWxlbWVudEltYWdlcyIsIm5vZGVOYW1lIiwiYWRkSW1hZ2UiLCJiYWNrZ3JvdW5kIiwiYWRkRWxlbWVudEJhY2tncm91bmRJbWFnZXMiLCJub2RlVHlwZSIsImQiLCIxIiwiOSIsIjExIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImV4ZWMiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJhZGRCYWNrZ3JvdW5kIiwicHJvZ3Jlc3MiLCJwcm9ncmVzc2VkQ291bnQiLCJoYXNBbnlCcm9rZW4iLCJjb21wbGV0ZSIsImlzTG9hZGVkIiwibm90aWZ5IiwiZGVidWciLCJsb2ciLCJpc0NvbXBsZXRlIiwiZ2V0SXNJbWFnZUNvbXBsZXRlIiwiY29uZmlybSIsIm5hdHVyYWxXaWR0aCIsInByb3h5SW1hZ2UiLCJhZGRFdmVudExpc3RlbmVyIiwic3JjIiwiaGFuZGxlRXZlbnQiLCJ0eXBlIiwib25sb2FkIiwidW5iaW5kRXZlbnRzIiwib25lcnJvciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJtYWtlSlF1ZXJ5UGx1Z2luIiwiZm4iLCJwcm9taXNlIl0sIm1hcHBpbmdzIjoiQ0FNQyxTQUFTQSxFQUFFQyxHQUFHLGtCQUFtQkMsU0FBUUEsT0FBT0MsSUFBSUQsT0FBTyx3QkFBd0JELEdBQUcsZ0JBQWlCRyxTQUFRQSxPQUFPQyxRQUFRRCxPQUFPQyxRQUFRSixJQUFJRCxFQUFFTSxVQUFVTCxLQUFLLG1CQUFvQk0sUUFBT0EsT0FBT0MsS0FBSyxXQUFXLFFBQVNSLE1BQUssR0FBSUMsR0FBRUQsRUFBRVMsU0FBVSxPQUFPUixHQUFFUyxHQUFHLFNBQVNWLEVBQUVDLEdBQUcsR0FBR0QsR0FBR0MsRUFBRSxDQUFDLEdBQUlVLEdBQUVILEtBQUtJLFFBQVFKLEtBQUtJLFlBQVlDLEVBQUVGLEVBQUVYLEdBQUdXLEVBQUVYLE1BQU8sUUFBTSxHQUFJYSxFQUFFQyxRQUFRYixJQUFJWSxFQUFFRSxLQUFLZCxHQUFHTyxPQUFPUCxFQUFFZSxLQUFLLFNBQVNoQixFQUFFQyxHQUFHLEdBQUdELEdBQUdDLEVBQUUsQ0FBQ08sS0FBS0UsR0FBR1YsRUFBRUMsRUFBRyxJQUFJVSxHQUFFSCxLQUFLUyxZQUFZVCxLQUFLUyxnQkFBZ0JKLEVBQUVGLEVBQUVYLEdBQUdXLEVBQUVYLE1BQU8sT0FBT2EsR0FBRVosSUFBRyxFQUFHTyxPQUFPUCxFQUFFaUIsSUFBSSxTQUFTbEIsRUFBRUMsR0FBRyxHQUFJVSxHQUFFSCxLQUFLSSxTQUFTSixLQUFLSSxRQUFRWixFQUFHLElBQUdXLEdBQUdBLEVBQUVRLE9BQU8sQ0FBQyxHQUFJTixHQUFFRixFQUFFRyxRQUFRYixFQUFHLFFBQU0sR0FBSVksR0FBR0YsRUFBRVMsT0FBT1AsRUFBRSxHQUFHTCxPQUFPUCxFQUFFb0IsVUFBVSxTQUFTckIsRUFBRUMsR0FBRyxHQUFJVSxHQUFFSCxLQUFLSSxTQUFTSixLQUFLSSxRQUFRWixFQUFHLElBQUdXLEdBQUdBLEVBQUVRLE9BQU8sQ0FB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WUFBWWIsS0FBS0EsS0FBS21DLFFBQVExQyxLQUFLcUIsRUFBRWlFLGlCQUFpQixTQUFTdEYsR0FBR0EsRUFBRUEsR0FBR0QsRUFBRTZDLE9BQU81QyxJQUFJa0MsRUFBRWxDLEVBQUVrQyxFQUFFcUQsR0FBRzdELGFBQWEsU0FBUzNCLEVBQUVDLEdBQUcsR0FBSVUsR0FBRSxHQUFJVyxHQUFFZCxLQUFLUixFQUFFQyxFQUFHLE9BQU9VLEdBQUV5QixXQUFXcUQsUUFBUXRELEVBQUUzQixVQUFVYyxFQUFFaUUsbUJBQW1CakUiLCJmaWxlIjoiaW1hZ2VzbG9hZGVkLnBrZ2QubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXHJcbiAqIGltYWdlc0xvYWRlZCBQQUNLQUdFRCB2NC4xLjFcclxuICogSmF2YVNjcmlwdCBpcyBhbGwgbGlrZSBcIllvdSBpbWFnZXMgYXJlIGRvbmUgeWV0IG9yIHdoYXQ/XCJcclxuICogTUlUIExpY2Vuc2VcclxuICovXHJcblxyXG4hZnVuY3Rpb24odCxlKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwiZXYtZW1pdHRlci9ldi1lbWl0dGVyXCIsZSk6XCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZSgpOnQuRXZFbWl0dGVyPWUoKX0oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dGhpcyxmdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9dmFyIGU9dC5wcm90b3R5cGU7cmV0dXJuIGUub249ZnVuY3Rpb24odCxlKXtpZih0JiZlKXt2YXIgaT10aGlzLl9ldmVudHM9dGhpcy5fZXZlbnRzfHx7fSxuPWlbdF09aVt0XXx8W107cmV0dXJuLTE9PW4uaW5kZXhPZihlKSYmbi5wdXNoKGUpLHRoaXN9fSxlLm9uY2U9ZnVuY3Rpb24odCxlKXtpZih0JiZlKXt0aGlzLm9uKHQsZSk7dmFyIGk9dGhpcy5fb25jZUV2ZW50cz10aGlzLl9vbmNlRXZlbnRzfHx7fSxuPWlbdF09aVt0XXx8e307cmV0dXJuIG5bZV09ITAsdGhpc319LGUub2ZmPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fZXZlbnRzJiZ0aGlzLl9ldmVudHNbdF07aWYoaSYmaS5sZW5ndGgpe3ZhciBuPWkuaW5kZXhPZihlKTtyZXR1cm4tMSE9biYmaS5zcGxpY2UobiwxKSx0aGlzfX0sZS5lbWl0RXZlbnQ9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLl9ldmVudHMmJnRoaXMuX2V2ZW50c1t0XTtpZihpJiZpLmxlbmd0aCl7dmFyIG49MCxvPWlbbl07ZT1lfHxbXTtmb3IodmFyIHI9dGhpcy5fb25jZUV2ZW50cyYmdGhpcy5fb25jZUV2ZW50c1t0XTtvOyl7dmFyIHM9ciYmcltvXTtzJiYodGhpcy5vZmYodCxvKSxkZWxldGUgcltvXSksby5hcHBseSh0aGlzLGUpLG4rPXM/MDoxLG89aVtuXX1yZXR1cm4gdGhpc319LHR9KSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wiZXYtZW1pdHRlci9ldi1lbWl0dGVyXCJdLGZ1bmN0aW9uKGkpe3JldHVybiBlKHQsaSl9KTpcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1lKHQscmVxdWlyZShcImV2LWVtaXR0ZXJcIikpOnQuaW1hZ2VzTG9hZGVkPWUodCx0LkV2RW1pdHRlcil9KHdpbmRvdyxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkodCxlKXtmb3IodmFyIGkgaW4gZSl0W2ldPWVbaV07cmV0dXJuIHR9ZnVuY3Rpb24gbih0KXt2YXIgZT1bXTtpZihBcnJheS5pc0FycmF5KHQpKWU9dDtlbHNlIGlmKFwibnVtYmVyXCI9PXR5cGVvZiB0Lmxlbmd0aClmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyllLnB1c2godFtpXSk7ZWxzZSBlLnB1c2godCk7cmV0dXJuIGV9ZnVuY3Rpb24gbyh0LGUscil7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBvPyhcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0KSksdGhpcy5lbGVtZW50cz1uKHQpLHRoaXMub3B0aW9ucz1pKHt9LHRoaXMub3B0aW9ucyksXCJmdW5jdGlvblwiPT10eXBlb2YgZT9yPWU6aSh0aGlzLm9wdGlvbnMsZSksciYmdGhpcy5vbihcImFsd2F5c1wiLHIpLHRoaXMuZ2V0SW1hZ2VzKCksaCYmKHRoaXMuanFEZWZlcnJlZD1uZXcgaC5EZWZlcnJlZCksdm9pZCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5jaGVjaygpfS5iaW5kKHRoaXMpKSk6bmV3IG8odCxlLHIpfWZ1bmN0aW9uIHIodCl7dGhpcy5pbWc9dH1mdW5jdGlvbiBzKHQsZSl7dGhpcy51cmw9dCx0aGlzLmVsZW1lbnQ9ZSx0aGlzLmltZz1uZXcgSW1hZ2V9dmFyIGg9dC5qUXVlcnksYT10LmNvbnNvbGU7by5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSksby5wcm90b3R5cGUub3B0aW9ucz17fSxvLnByb3RvdHlwZS5nZXRJbWFnZXM9ZnVuY3Rpb24oKXt0aGlzLmltYWdlcz1bXSx0aGlzLmVsZW1lbnRzLmZvckVhY2godGhpcy5hZGRFbGVtZW50SW1hZ2VzLHRoaXMpfSxvLnByb3RvdHlwZS5hZGRFbGVtZW50SW1hZ2VzPWZ1bmN0aW9uKHQpe1wiSU1HXCI9PXQubm9kZU5hbWUmJnRoaXMuYWRkSW1hZ2UodCksdGhpcy5vcHRpb25zLmJhY2tncm91bmQ9PT0hMCYmdGhpcy5hZGRFbGVtZW50QmFja2dyb3VuZEltYWdlcyh0KTt2YXIgZT10Lm5vZGVUeXBlO2lmKGUmJmRbZV0pe2Zvcih2YXIgaT10LnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbWdcIiksbj0wO248aS5sZW5ndGg7bisrKXt2YXIgbz1pW25dO3RoaXMuYWRkSW1hZ2Uobyl9aWYoXCJzdHJpbmdcIj09dHlwZW9mIHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kKXt2YXIgcj10LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5vcHRpb25zLmJhY2tncm91bmQpO2ZvcihuPTA7bjxyLmxlbmd0aDtuKyspe3ZhciBzPXJbbl07dGhpcy5hZGRFbGVtZW50QmFja2dyb3VuZEltYWdlcyhzKX19fX07dmFyIGQ9ezE6ITAsOTohMCwxMTohMH07cmV0dXJuIG8ucHJvdG90eXBlLmFkZEVsZW1lbnRCYWNrZ3JvdW5kSW1hZ2VzPWZ1bmN0aW9uKHQpe3ZhciBlPWdldENvbXB1dGVkU3R5bGUodCk7aWYoZSlmb3IodmFyIGk9L3VybFxcKChbJ1wiXSk/KC4qPylcXDFcXCkvZ2ksbj1pLmV4ZWMoZS5iYWNrZ3JvdW5kSW1hZ2UpO251bGwhPT1uOyl7dmFyIG89biYmblsyXTtvJiZ0aGlzLmFkZEJhY2tncm91bmQobyx0KSxuPWkuZXhlYyhlLmJhY2tncm91bmRJbWFnZSl9fSxvLnByb3RvdHlwZS5hZGRJbWFnZT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgcih0KTt0aGlzLmltYWdlcy5wdXNoKGUpfSxvLnByb3RvdHlwZS5hZGRCYWNrZ3JvdW5kPWZ1bmN0aW9uKHQsZSl7dmFyIGk9bmV3IHModCxlKTt0aGlzLmltYWdlcy5wdXNoKGkpfSxvLnByb3RvdHlwZS5jaGVjaz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxpLG4pe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtlLnByb2dyZXNzKHQsaSxuKX0pfXZhciBlPXRoaXM7cmV0dXJuIHRoaXMucHJvZ3Jlc3NlZENvdW50PTAsdGhpcy5oYXNBbnlCcm9rZW49ITEsdGhpcy5pbWFnZXMubGVuZ3RoP3ZvaWQgdGhpcy5pbWFnZXMuZm9yRWFjaChmdW5jdGlvbihlKXtlLm9uY2UoXCJwcm9ncmVzc1wiLHQpLGUuY2hlY2soKX0pOnZvaWQgdGhpcy5jb21wbGV0ZSgpfSxvLnByb3RvdHlwZS5wcm9ncmVzcz1mdW5jdGlvbih0LGUsaSl7dGhpcy5wcm9ncmVzc2VkQ291bnQrKyx0aGlzLmhhc0FueUJyb2tlbj10aGlzLmhhc0FueUJyb2tlbnx8IXQuaXNMb2FkZWQsdGhpcy5lbWl0RXZlbnQoXCJwcm9ncmVzc1wiLFt0aGlzLHQsZV0pLHRoaXMuanFEZWZlcnJlZCYmdGhpcy5qcURlZmVycmVkLm5vdGlmeSYmdGhpcy5qcURlZmVycmVkLm5vdGlmeSh0aGlzLHQpLHRoaXMucHJvZ3Jlc3NlZENvdW50PT10aGlzLmltYWdlcy5sZW5ndGgmJnRoaXMuY29tcGxldGUoKSx0aGlzLm9wdGlvbnMuZGVidWcmJmEmJmEubG9nKFwicHJvZ3Jlc3M6IFwiK2ksdCxlKX0sby5wcm90b3R5cGUuY29tcGxldGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmhhc0FueUJyb2tlbj9cImZhaWxcIjpcImRvbmVcIjtpZih0aGlzLmlzQ29tcGxldGU9ITAsdGhpcy5lbWl0RXZlbnQodCxbdGhpc10pLHRoaXMuZW1pdEV2ZW50KFwiYWx3YXlzXCIsW3RoaXNdKSx0aGlzLmpxRGVmZXJyZWQpe3ZhciBlPXRoaXMuaGFzQW55QnJva2VuP1wicmVqZWN0XCI6XCJyZXNvbHZlXCI7dGhpcy5qcURlZmVycmVkW2VdKHRoaXMpfX0sci5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSksci5wcm90b3R5cGUuY2hlY2s9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldElzSW1hZ2VDb21wbGV0ZSgpO3JldHVybiB0P3ZvaWQgdGhpcy5jb25maXJtKDAhPT10aGlzLmltZy5uYXR1cmFsV2lkdGgsXCJuYXR1cmFsV2lkdGhcIik6KHRoaXMucHJveHlJbWFnZT1uZXcgSW1hZ2UsdGhpcy5wcm94eUltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsdGhpcyksdGhpcy5wcm94eUltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLHRoaXMpLHRoaXMuaW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsdGhpcyksdGhpcy5pbWcuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsdGhpcyksdm9pZCh0aGlzLnByb3h5SW1hZ2Uuc3JjPXRoaXMuaW1nLnNyYykpfSxyLnByb3RvdHlwZS5nZXRJc0ltYWdlQ29tcGxldGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbWcuY29tcGxldGUmJnZvaWQgMCE9PXRoaXMuaW1nLm5hdHVyYWxXaWR0aH0sci5wcm90b3R5cGUuY29uZmlybT1mdW5jdGlvbih0LGUpe3RoaXMuaXNMb2FkZWQ9dCx0aGlzLmVtaXRFdmVudChcInByb2dyZXNzXCIsW3RoaXMsdGhpcy5pbWcsZV0pfSxyLnByb3RvdHlwZS5oYW5kbGVFdmVudD1mdW5jdGlvbih0KXt2YXIgZT1cIm9uXCIrdC50eXBlO3RoaXNbZV0mJnRoaXNbZV0odCl9LHIucHJvdG90eXBlLm9ubG9hZD1mdW5jdGlvbigpe3RoaXMuY29uZmlybSghMCxcIm9ubG9hZFwiKSx0aGlzLnVuYmluZEV2ZW50cygpfSxyLnByb3RvdHlwZS5vbmVycm9yPWZ1bmN0aW9uKCl7dGhpcy5jb25maXJtKCExLFwib25lcnJvclwiKSx0aGlzLnVuYmluZEV2ZW50cygpfSxyLnByb3RvdHlwZS51bmJpbmRFdmVudHM9ZnVuY3Rpb24oKXt0aGlzLnByb3h5SW1hZ2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIix0aGlzKSx0aGlzLnByb3h5SW1hZ2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsdGhpcyksdGhpcy5pbWcucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIix0aGlzKSx0aGlzLmltZy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZXJyb3JcIix0aGlzKX0scy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShyLnByb3RvdHlwZSkscy5wcm90b3R5cGUuY2hlY2s9ZnVuY3Rpb24oKXt0aGlzLmltZy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLHRoaXMpLHRoaXMuaW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLHRoaXMpLHRoaXMuaW1nLnNyYz10aGlzLnVybDt2YXIgdD10aGlzLmdldElzSW1hZ2VDb21wbGV0ZSgpO3QmJih0aGlzLmNvbmZpcm0oMCE9PXRoaXMuaW1nLm5hdHVyYWxXaWR0aCxcIm5hdHVyYWxXaWR0aFwiKSx0aGlzLnVuYmluZEV2ZW50cygpKX0scy5wcm90b3R5cGUudW5iaW5kRXZlbnRzPWZ1bmN0aW9uKCl7dGhpcy5pbWcucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIix0aGlzKSx0aGlzLmltZy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZXJyb3JcIix0aGlzKX0scy5wcm90b3R5cGUuY29uZmlybT1mdW5jdGlvbih0LGUpe3RoaXMuaXNMb2FkZWQ9dCx0aGlzLmVtaXRFdmVudChcInByb2dyZXNzXCIsW3RoaXMsdGhpcy5lbGVtZW50LGVdKX0sby5tYWtlSlF1ZXJ5UGx1Z2luPWZ1bmN0aW9uKGUpe2U9ZXx8dC5qUXVlcnksZSYmKGg9ZSxoLmZuLmltYWdlc0xvYWRlZD1mdW5jdGlvbih0LGUpe3ZhciBpPW5ldyBvKHRoaXMsdCxlKTtyZXR1cm4gaS5qcURlZmVycmVkLnByb21pc2UoaCh0aGlzKSl9KX0sby5tYWtlSlF1ZXJ5UGx1Z2luKCksb30pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
